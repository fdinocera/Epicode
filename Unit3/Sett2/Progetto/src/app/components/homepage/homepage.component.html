<div class="container">
    <div>
        <input type="text" placeholder="Enter your name here" class="my-3 pe-3 form-control" (keyup)="filtra($event)"
            id="textInput" />
    </div>

    <div *ngIf="queryRequested; else allTodos">

        <div class="bg-dark-subtle mb-3 rounded p-2"> Total tasks: {{filteredTodos.length}}</div>

        <div *ngFor="let todo of filteredTodos">            
            <ul class="list-group">
                <li class="list-group-item mb-1" [ngClass]="todo.completed ? 'bg-success' : 'bg-danger'">
                    <div>
                        <input class="form-check-input me-1" type="checkbox" [checked]="todo?.completed"
                            id="firstCheckbox" (click)="cambiaStatoTask(todo.id)">
                        <label class="form-check-label fw-bold" for="firstCheckbox">{{todo?.todo}}</label>
                    </div>
                    <div class="ms-4">
                        <div> Assigned to: {{getUtenteAssegnatario(todo.userId)}}</div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <ng-template #allTodos>
        <div *ngFor="let todo of todos">
            <ul class="list-group">
                <li class="list-group-item mb-1" [ngClass]="todo.completed ? 'bg-success' : 'bg-danger'">
                    <div>
                        <input class="form-check-input me-1" type="checkbox" [checked]="todo.completed"
                            id="firstCheckbox" (click)="cambiaStatoTask(todo.id)">
                        <label class="form-check-label fw-bold" for="firstCheckbox">{{todo.todo}}</label>
                    </div>
                    <div class="ms-4">
                        <div> Assigned to: {{getUtenteAssegnatario(todo.userId)}}</div>
                    </div>
                </li>
            </ul>
        </div>
    </ng-template>
</div>